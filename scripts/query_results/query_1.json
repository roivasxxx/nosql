{"result":[{"_id":"643bfb389cb96cec44d89a29","name":"Fakulta informatiky a managementu","shortcut":"FIM","course_shortcuts":["A","BCT","BS","CAV","CI","CNJYO","DTAA","DYVY","EA","ED","EP","EQJTQ","FF","FGK","FHJ","FLPA","FR","GISVT","HFOZ","HVAMU","JAM","JCRHJ","JJ","JKDYL","JMP","JND","JQKG","JW","JXRE","KDGCJ","LLN","LOS","LX","MBH","MC","MESMT","MVYSA","NRDZS","NVH","NWT","OBE","OCQRE","OS","OT","PF","PIFHZ","PON","POPA","PSQN","QFPMW","QTJGY","QUU","RBBZZ","RGH","RTC","SCGSA","SDWE","SN","SV","TCB","TWZA","UAUL","UPE","UZQLS","VB","VJTY","VXI","VZEE","WFVZV","WHA","XG","XHZFA","XQS","XV","XVG","YB","YLW","YTIHP","YYZ","Z","ZNS"],"courses_count":81},{"_id":"643c06fff8041c69909c405e","name":"Filozofická fakulta a ÚSP","shortcut":"FF","course_shortcuts":["ABMQW","ABNAU","AMT","AN","ANSA","BFVF","BR","C","CDRGI","CFFHK","CJ","CMKCM","CMNS","CR","DDT","DKHYW","DKXMO","DLP","DPRK","DTMUX","DZWUK","EE","EEMLW","ES","FEEE","FLMG","FPW","GDDB","GJMN","GMN","GQY","HJULM","I","JB","JM","JR","JSF","JTU","JUZQ","JZMH","KUTT","LPVS","LVXWH","LYMYF","LZO","MDQ","MJA","MRD","NIP","NKLQ","NMIFF","ODGB","ODIMG","ONNM","ORMEM","P","PBH","PRO","PVYJ","QS","QUCDC","RIIR","RJ","RRK","RUGVI","RWNVG","ST","SY","SYL","T","TDCLF","TDX","TMFS","TPRWP","TV","UA","UAEI","UICYU","UJRMW","ULQ","US","UUSLZ","VQ","VRTB","VVS","WKJ","WX","XBO","XCG","XCPL","XE","XNZIP","XROJ","XTWBX","YMIB","YNPK","YWQ","YYKOD","ZC","ZEE","ZPXK","ZRB"],"courses_count":102},{"_id":"643c06fff8041c69909c405f","name":"Pedagogická fakulta","shortcut":"PdF","course_shortcuts":["ATBG","AUGWR","B","BCM","BEVRA","CG","CHJO","CIMF","CKYP","CNA","D","DBJFQ","DH","DN","DTBAV","EY","FEQBA","FGJG","FJFT","FNE","FV","FX","G","GDCFB","GENPC","HCVAB","IBAYV","IMH","IMNCY","IUAYG","IYDAN","IZ","JF","JFBP","JHCBY","JHCH","JLJLZ","JPUU","JQV","JTY","JWA","KBTUQ","KIGY","KJMZC","KNDBO","KVSB","L","LG","LWHV","LYUTI","MGRP","MNU","MOUV","MS","NS","O","ODI","OJ","OK","OMCM","OSG","OXDU","PHT","Q","QG","QNIXE","QNYMF","QOS","RAH","RCKU","RKMX","RSG","RSGOF","RSLHR","RXMDP","RYLS","SCV","SE","SIV","SJ","SUAS","SWY","TFK","TGQW","TSBQT","U","UFYRS","UJ","UY","V","VIKO","VOG","WFIND","WZCJ","X","XDH","XFO","YHBLY","YJW","YLK","YNYK","YS","ZRBR","ZRLT","ZROQA","ZXAH","ZXY"],"courses_count":107},{"_id":"643c06fff8041c69909c405d","name":"Přírodovědecká fakulta","shortcut":"PřF","course_shortcuts":["AAD","AG","AQM","ATOW","AX","AXCS","BM","BU","CLAN","CT","CW","DELR","DEUR","DFTO","DGF","DNFIP","DOCN","DT","E","F","FANQD","FDU","FM","FNBMX","FU","GGIWE","GOIDC","GPG","GPOCJ","GXX","H","HOU","HSH","IGULN","IR","J","JDNNB","JFKQM","JI","JLL","JVVPU","JZ","K","KEYU","LTHW","LTW","LUJZ","M","MCU","MGD","N","NCOY","NLYDB","NM","NNWXR","NSTCD","NV","OBY","OHKH","OJWRL","OU","PEBAH","PFFZ","PU","PYZI","QDDRV","QK","QLIIJ","QMUU","R","RK","RP","RSX","RT","RXR","S","SMU","SUFGQ","SXRTP","TICSZ","TKM","TZFU","UFT","UHR","UMNT","UOXEK","VBQO","VO","VP","VQCHN","VS","VWE","W","WEPOL","WFRPF","WHY","WKOQC","WPN","XB","XM","XNIT","XO","XZWHO","Y","YCP","YF","YNSB","YSP","ZNNCP","ZP"],"courses_count":110}],"explain":{"explainVersion":"2","stages":[{"$cursor":{"queryPlanner":{"namespace":"krajta-clone.faculties","indexFilterSet":false,"parsedQuery":{},"queryHash":"FCD264C7","planCacheKey":"FCD264C7","maxIndexedOrSolutionsReached":false,"maxIndexedAndSolutionsReached":false,"maxScansToExplodeReached":false,"winningPlan":{"queryPlan":{"stage":"EQ_LOOKUP","planNodeId":3,"foreignCollection":"krajta-clone.courses","localField":"_id","foreignField":"faculty_id","asField":"faculties_courses","strategy":"HashJoin","inputStage":{"stage":"PROJECTION_SIMPLE","planNodeId":2,"transformBy":{"_id":true,"faculties_courses":true,"name":true,"shortcut":true},"inputStage":{"stage":"COLLSCAN","planNodeId":1,"filter":{},"direction":"forward"}}},"slotBasedPlan":{"slots":"$$RESULT=s22 env: { s1 = TimeZoneDatabase(Africa/Algiers...America/Argentina/Cordoba) (timeZoneDB), s2 = Nothing (SEARCH_META), s3 = 1684073596196 (NOW) }","stages":"[3] mkobj s22 s6 [] drop [faculties_courses = s21] true false \n[3] project [s21 = fillEmpty (s20, [])] \n[3] hash_lookup [s20 = addToArray (s7)] \n    outer s13 \n        [3] nlj [s6] [s6] \n            left \n                [2] mkbson s6 s4 [_id, faculties_courses, name, shortcut] keep [] true false \n                [1] scan s4 s5 none none none none [] @\"9acf7818-899e-4c6d-af56-2c410f344704\" true false \n            right \n                [3] project [s13 = if (getArraySize (s12) > 0, s12, [null])] \n                [3] group [] [s12 = addToSet (s10)] \n                [3] unwind s10 s11 s9 true \n                [3] project [s9 = getField (s6, \"_id\")] \n                [3] limit 1 \n                [3] coscan \n            \n        \n    inner s19 [s7] \n        [3] nlj [s7] [s7] \n            left \n                [3] scan s7 s8 none none none none [] @\"a4afcc95-95db-4b1c-b7e9-f3ea0f5f1c13\" true false \n            right \n                [3] group [] [s19 = addToSet (s18)] \n                [3] nlj [] [s14] \n                    left \n                        [3] project [s14 = fillEmpty (getField (s7, \"faculty_id\"), null)] \n                        [3] limit 1 \n                        [3] coscan \n                    right \n                        [3] branch {isArray (s14)} [s18] \n                        [s17] [3] union [s17] [\n                            [s15] [3] unwind s15 s16 s14 true \n                            [3] limit 1 \n                            [3] coscan , \n                            [s14] [3] limit 1 \n                            [3] coscan \n                       ] \n                        [s14] [3] limit 1 \n                        [3] coscan \n                    \n                \n            \n        \n    \n"}},"rejectedPlans":[]},"executionStats":{"executionSuccess":true,"nReturned":4,"executionTimeMillis":1,"totalKeysExamined":0,"totalDocsExamined":404,"executionStages":{"stage":"mkobj","planNodeId":3,"nReturned":4,"executionTimeMillisEstimate":0,"opens":1,"closes":1,"saveState":1,"restoreState":1,"isEOF":1,"objSlot":22,"rootSlot":6,"fieldBehavior":"drop","fields":[],"projectFields":["faculties_courses"],"projectSlots":[{"low":21,"high":0,"unsigned":false}],"forceNewObject":true,"returnOldObject":false,"inputStage":{"stage":"project","planNodeId":3,"nReturned":4,"executionTimeMillisEstimate":0,"opens":1,"closes":1,"saveState":1,"restoreState":1,"isEOF":1,"projections":{"21":"fillEmpty (s20, []) "},"inputStage":{"stage":"hash_lookup","planNodeId":3,"nReturned":4,"executionTimeMillisEstimate":0,"opens":1,"closes":1,"saveState":1,"restoreState":1,"isEOF":1,"totalDocsExamined":404,"totalKeysExamined":0,"collectionScans":2,"collectionSeeks":0,"indexScans":0,"indexSeeks":0,"indexesUsed":[],"usedDisk":false,"spilledRecords":0,"spilledBytesApprox":0,"inputStages":[{"stage":"nlj","planNodeId":3,"nReturned":4,"executionTimeMillisEstimate":0,"opens":1,"closes":1,"saveState":1,"restoreState":1,"isEOF":1,"totalDocsExamined":4,"totalKeysExamined":0,"collectionScans":1,"collectionSeeks":0,"indexScans":0,"indexSeeks":0,"indexesUsed":[],"innerOpens":4,"innerCloses":1,"outerProjects":[{"low":6,"high":0,"unsigned":false}],"outerCorrelated":[{"low":6,"high":0,"unsigned":false}],"outerStage":{"stage":"mkbson","planNodeId":2,"nReturned":4,"executionTimeMillisEstimate":0,"opens":1,"closes":1,"saveState":1,"restoreState":1,"isEOF":1,"objSlot":6,"rootSlot":4,"fieldBehavior":"keep","fields":["_id","faculties_courses","name","shortcut"],"projectFields":[],"projectSlots":[],"forceNewObject":true,"returnOldObject":false,"inputStage":{"stage":"scan","planNodeId":1,"nReturned":4,"executionTimeMillisEstimate":0,"opens":1,"closes":1,"saveState":1,"restoreState":1,"isEOF":1,"numReads":4,"recordSlot":4,"recordIdSlot":5,"fields":[],"outputSlots":[]}},"innerStage":{"stage":"project","planNodeId":3,"nReturned":4,"executionTimeMillisEstimate":0,"opens":4,"closes":1,"saveState":1,"restoreState":1,"isEOF":1,"projections":{"13":"if (getArraySize (s12) > 0, s12, [null]) "},"inputStage":{"stage":"group","planNodeId":3,"nReturned":4,"executionTimeMillisEstimate":0,"opens":4,"closes":1,"saveState":1,"restoreState":1,"isEOF":1,"groupBySlots":[],"expressions":{"12":"addToSet (s10) "},"usedDisk":false,"spilledRecords":0,"spilledBytesApprox":0,"inputStage":{"stage":"unwind","planNodeId":3,"nReturned":4,"executionTimeMillisEstimate":0,"opens":4,"closes":4,"saveState":1,"restoreState":1,"isEOF":1,"inputSlot":9,"outSlot":10,"outIndexSlot":11,"preserveNullAndEmptyArrays":1,"inputStage":{"stage":"project","planNodeId":3,"nReturned":4,"executionTimeMillisEstimate":0,"opens":4,"closes":4,"saveState":1,"restoreState":1,"isEOF":1,"projections":{"9":"getField (s6, \"_id\") "},"inputStage":{"stage":"limit","planNodeId":3,"nReturned":4,"executionTimeMillisEstimate":0,"opens":4,"closes":4,"saveState":1,"restoreState":1,"isEOF":1,"limit":1,"inputStage":{"stage":"coscan","planNodeId":3,"nReturned":4,"executionTimeMillisEstimate":0,"opens":4,"closes":4,"saveState":1,"restoreState":1,"isEOF":0}}}}}}},{"stage":"nlj","planNodeId":3,"nReturned":400,"executionTimeMillisEstimate":0,"opens":1,"closes":1,"saveState":1,"restoreState":1,"isEOF":1,"totalDocsExamined":400,"totalKeysExamined":0,"collectionScans":1,"collectionSeeks":0,"indexScans":0,"indexSeeks":0,"indexesUsed":[],"innerOpens":400,"innerCloses":1,"outerProjects":[{"low":7,"high":0,"unsigned":false}],"outerCorrelated":[{"low":7,"high":0,"unsigned":false}],"outerStage":{"stage":"scan","planNodeId":3,"nReturned":400,"executionTimeMillisEstimate":0,"opens":1,"closes":1,"saveState":1,"restoreState":1,"isEOF":1,"numReads":400,"recordSlot":7,"recordIdSlot":8,"fields":[],"outputSlots":[]},"innerStage":{"stage":"group","planNodeId":3,"nReturned":400,"executionTimeMillisEstimate":0,"opens":400,"closes":1,"saveState":1,"restoreState":1,"isEOF":1,"groupBySlots":[],"expressions":{"19":"addToSet (s18) "},"usedDisk":false,"spilledRecords":0,"spilledBytesApprox":0,"inputStage":{"stage":"nlj","planNodeId":3,"nReturned":400,"executionTimeMillisEstimate":0,"opens":400,"closes":400,"saveState":1,"restoreState":1,"isEOF":1,"totalDocsExamined":0,"totalKeysExamined":0,"collectionScans":0,"collectionSeeks":0,"indexScans":0,"indexSeeks":0,"indexesUsed":[],"innerOpens":400,"innerCloses":400,"outerProjects":[],"outerCorrelated":[{"low":14,"high":0,"unsigned":false}],"outerStage":{"stage":"project","planNodeId":3,"nReturned":400,"executionTimeMillisEstimate":0,"opens":400,"closes":400,"saveState":1,"restoreState":1,"isEOF":1,"projections":{"14":"fillEmpty (getField (s7, \"faculty_id\"), null) "},"inputStage":{"stage":"limit","planNodeId":3,"nReturned":400,"executionTimeMillisEstimate":0,"opens":400,"closes":400,"saveState":1,"restoreState":1,"isEOF":1,"limit":1,"inputStage":{"stage":"coscan","planNodeId":3,"nReturned":400,"executionTimeMillisEstimate":0,"opens":400,"closes":400,"saveState":1,"restoreState":1,"isEOF":0}}},"innerStage":{"stage":"branch","planNodeId":3,"nReturned":400,"executionTimeMillisEstimate":0,"opens":400,"closes":400,"saveState":1,"restoreState":1,"isEOF":1,"numTested":400,"thenBranchOpens":0,"thenBranchCloses":0,"elseBranchOpens":400,"elseBranchCloses":400,"filter":"isArray (s14) ","thenSlots":[{"low":17,"high":0,"unsigned":false}],"elseSlots":[{"low":14,"high":0,"unsigned":false}],"outputSlots":[{"low":18,"high":0,"unsigned":false}],"thenStage":{"stage":"union","planNodeId":3,"nReturned":0,"executionTimeMillisEstimate":0,"opens":0,"closes":0,"saveState":1,"restoreState":1,"isEOF":0,"inputSlots":[{"low":15,"high":0,"unsigned":false},{"low":14,"high":0,"unsigned":false}],"outputSlots":[{"low":17,"high":0,"unsigned":false}],"inputStages":[{"stage":"unwind","planNodeId":3,"nReturned":0,"executionTimeMillisEstimate":0,"opens":0,"closes":0,"saveState":1,"restoreState":1,"isEOF":0,"inputSlot":14,"outSlot":15,"outIndexSlot":16,"preserveNullAndEmptyArrays":1,"inputStage":{"stage":"limit","planNodeId":3,"nReturned":0,"executionTimeMillisEstimate":0,"opens":0,"closes":0,"saveState":1,"restoreState":1,"isEOF":0,"limit":1,"inputStage":{"stage":"coscan","planNodeId":3,"nReturned":0,"executionTimeMillisEstimate":0,"opens":0,"closes":0,"saveState":1,"restoreState":1,"isEOF":0}}},{"stage":"limit","planNodeId":3,"nReturned":0,"executionTimeMillisEstimate":0,"opens":0,"closes":0,"saveState":1,"restoreState":1,"isEOF":0,"limit":1,"inputStage":{"stage":"coscan","planNodeId":3,"nReturned":0,"executionTimeMillisEstimate":0,"opens":0,"closes":0,"saveState":1,"restoreState":1,"isEOF":0}}]},"elseStage":{"stage":"limit","planNodeId":3,"nReturned":400,"executionTimeMillisEstimate":0,"opens":400,"closes":400,"saveState":1,"restoreState":1,"isEOF":1,"limit":1,"inputStage":{"stage":"coscan","planNodeId":3,"nReturned":400,"executionTimeMillisEstimate":0,"opens":400,"closes":400,"saveState":1,"restoreState":1,"isEOF":0}}}}}}]}}},"allPlansExecution":[]}},"nReturned":{"low":4,"high":0,"unsigned":false},"executionTimeMillisEstimate":{"low":0,"high":0,"unsigned":false}},{"$project":{"_id":true,"shortcut":true,"name":true,"course_shortcuts":{"$sortArray":{"input":{"$map":{"input":"$faculties_courses","as":"t","in":"$$t.shortcut"}},"sortBy":1}},"courses_count":{"$size":["$faculties_courses"]}},"nReturned":{"low":4,"high":0,"unsigned":false},"executionTimeMillisEstimate":{"low":0,"high":0,"unsigned":false}}],"serverInfo":{"host":"32f6582a126f","port":27017,"version":"6.0.4","gitVersion":"44ff59461c1353638a71e710f385a566bcd2f547"},"serverParameters":{"internalQueryFacetBufferSizeBytes":104857600,"internalQueryFacetMaxOutputDocSizeBytes":104857600,"internalLookupStageIntermediateDocumentMaxSizeBytes":104857600,"internalDocumentSourceGroupMaxMemoryBytes":104857600,"internalQueryMaxBlockingSortMemoryUsageBytes":104857600,"internalQueryProhibitBlockingMergeOnMongoS":0,"internalQueryMaxAddToSetBytes":104857600,"internalDocumentSourceSetWindowFieldsMaxMemoryBytes":104857600},"command":{"aggregate":"faculties","pipeline":[{"$lookup":{"from":"courses","localField":"_id","foreignField":"faculty_id","as":"faculties_courses"}},{"$project":{"_id":1,"shortcut":1,"name":1,"course_shortcuts":{"$sortArray":{"sortBy":1,"input":{"$map":{"input":"$faculties_courses","as":"t","in":"$$t.shortcut"}}}},"courses_count":{"$size":"$faculties_courses"}}}],"cursor":{},"$db":"krajta-clone"},"ok":1}}